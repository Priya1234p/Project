<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title
	th:text="${enquiry != null} ? 'Edit Enquiry | Ashok IT' : 'Add Enquiry | Ashok IT'">Add
	Enquiry | Ashok IT</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
	rel="stylesheet">

<style>
body {
	background-color: #f8f9fa;
	font-family: 'Poppins', sans-serif;
}

.navbar-brand img {
	height: 60px;
	width: auto;
}

.btn-logout {
	background-color: #dc3545;
	color: white;
	border-radius: 25px;
	padding: 6px 18px;
	border: none;
	font-weight: 500;
}

.btn-logout:hover {
	background-color: #b71c1c;
}

.nav-link {
	color: #333 !important;
	font-weight: 500;
}

.nav-link:hover {
	color: #1a4ea0 !important;
}

.card {
	box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
	border-radius: 10px;
	padding: 30px;
	background: #fff;
}

.form-label {
	font-weight: 500;
}

.footer {
	text-align: center;
	padding: 10px;
	color: #1a4ea0;
	background-color: white;
	font-weight: 500;
	margin-top: 30px;
}
</style>
</head>

<body>
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg bg-body-tertiary shadow-sm">
		<div class="container-fluid">
			<a class="navbar-brand" href="#"><img src="images/OIP.jpeg"
				alt="Logo"></a>

			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse justify-content-end"
				id="navbarNav">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item"><a class="nav-link" href="/dashboard">Home</a></li>
					<li class="nav-item"><a class="nav-link active"
						href="/add-enquiry">Add Enquiry</a></li>
					<li class="nav-item"><a class="nav-link"
						href="/view-enquiries">View Enquiries</a></li>
				</ul>
				<a href="/logout" class="btn btn-logout">Logout</a>
			</div>
		</div>
	</nav>

	<!-- Form Section -->
	<div class="container mt-5">
		<div class="card mx-auto" style="max-width: 700px;">
			<h3 class="text-center mb-4"
				th:text="${enquiry != null} ? 'Edit Student Enquiry' : 'Add Student Enquiry Here'">Add
				Student Enquiry Here</h3>

			<form th:action="@{/enquiry}" method="post">
				<!-- Hidden ID field for editing -->
				<input type="hidden" name="id"
					th:value="${enquiry != null} ? ${enquiry.id} : ''" />

				<div class="mb-3">
					<label class="form-label">Student Name</label> <input type="text"
						name="studentName" class="form-control" placeholder="Enter name"
						required
						th:value="${enquiry != null} ? ${enquiry.studentName} : ''">
				</div>

				<div class="mb-3">
					<label class="form-label">Contact Number</label> <input type="text"
						name="contactNumber" class="form-control"
						placeholder="Enter contact number" required
						th:value="${enquiry != null} ? ${enquiry.contactNumber} : ''">
				</div>

				<div class="mb-3">
					<label class="form-label">Class Mode</label> <select
						name="classMode" class="form-select" required>
						<option value="">-Select-</option>
						<option
							th:selected="${enquiry != null and enquiry['classMode'] == 'Online'}">Online</option>
						<option
							th:selected="${enquiry != null and enquiry['classMode'] == 'Offline'}">Offline</option>
					</select>
				</div>

				<div class="mb-3">
					<label class="form-label">Course</label> <select name="course"
						class="form-select" required>
						<option value="">-Select Course-</option>
						<option
							th:selected="${enquiry != null and enquiry['course'] == 'Java Fullstack'}">Java
							Fullstack</option>
						<option
							th:selected="${enquiry != null and enquiry['course'] == 'Python Fullstack'}">Python
							Fullstack</option>
						<option
							th:selected="${enquiry != null and enquiry['course'] == 'ReactJS'}">ReactJS</option>
						<option
							th:selected="${enquiry != null and enquiry['course'] == 'Angular'}">Angular</option>
					</select>
				</div>

				<div class="mb-3">
					<label class="form-label">Enquiry Status</label> <select
						name="status" class="form-select" required>
						<option value="">-Select Status-</option>
						<option
							th:selected="${enquiry != null and enquiry['status'] == 'Enrolled'}">Enrolled</option>
						<option
							th:selected="${enquiry != null and enquiry['status'] == 'Lost'}">Lost</option>
						<option
							th:selected="${enquiry != null and enquiry['status'] == 'New'}">New</option>
					</select>
				</div>


				<div class="text-center">
					<button type="submit" class="btn btn-primary px-4"
						th:text="${enquiry != null} ? 'Update Enquiry' : 'Save Enquiry'">Save
						Enquiry</button>
				</div>

				<div class="mt-3 text-center text-success fw-semibold"
					th:text="${msg}"></div>
			</form>
		</div>
	</div>

	<div class="footer">&copy; 2025 Project IT</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
